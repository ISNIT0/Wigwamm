!function(e,n){"use strict";if("function"==typeof define&&define.amd)define(["ractive"],n);else if("undefined"!=typeof module&&module.exports&&"function"==typeof require)module.exports=n(require("ractive"),require("fs"),require("path"));else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the Ractive.load plugin");n(e.Ractive)}}("undefined"!=typeof window?window:this,function(e,n){"use strict";var t,r,o,i,u,a,c;c=function(){var e,n,t,r,o,i,u,a;return n=function(e){var n,t,r;return n=e.split("/"),t=n.pop(),r=t.lastIndexOf("."),-1!==r&&(t=t.substr(0,r)),t},t=function(n){function t(e){return e.f}function r(e,n){var t,r,o=0,i=0;for(t=e.map(function(e){var n=i+e.length+1;return i=n,n},0);n>=t[o];)i=t[o],o+=1;return r=n-i,{line:o,column:r,"char":n}}var o,i=/require\s*\(\s*(?:"([^"]+)"|'([^']+)')\s*\)/g;return o=function(o){var u,a,c,s,f,p,l,d,h,m,v,w;if(!e)throw new Error("rcu has not been initialised! You must call rcu.init(Ractive) before rcu.parse()");if(u=e.parse(o,{noStringify:!0,interpolate:{script:!1,style:!1},includeLinePositions:!0}),1!==u.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");for(c=[],l=[],h=[],a=u.t,m=a.length;m--;)if(v=a[m],v&&7===v.t){if("link"===v.e&&v.a&&"ractive"===v.a.rel&&c.push(a.splice(m,1)[0]),!("script"!==v.e||v.a&&v.a.type&&"text/javascript"!==v.a.type)){if(f)throw new Error("You can only have one <script> tag per component file");f=a.splice(m,1)[0]}"style"!==v.e||v.a&&v.a.type&&"text/css"!==v.a.type||l.push(a.splice(m,1)[0])}for(;/^\s*$/.test(a[0]);)a.shift();for(;/^\s*$/.test(a[a.length-1]);)a.pop();if(s=c.map(function(e){var t,r;if(t=e.a.href,r=e.a.name||n(t),"string"!=typeof r)throw new Error("Error parsing link tag");return{name:r,href:t}}),w={template:u,imports:s,css:l.map(t).join(" "),script:"",modules:h},f)for(function(){var e,n,t;e=o.indexOf(">",f.p[2])+1,n=e+f.f[0].length,t=o.split("\n"),w.scriptStart=r(t,e),w.scriptEnd=r(t,n)}(),w.script=f.f[0];d=i.exec(p);)h.push(d[1]||d[2]);return w}}(n),r=function(){function e(e,r){r=r||{},r.sourceMap?e+="\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+s(JSON.stringify(r.sourceMap)):r.sourceURL&&(e+="\n//# sourceURL="+r.sourceURL);try{return o(e)}catch(a){if(u)return void t(e,r.sourceURL||"");throw i&&"SyntaxError"===a.name&&n(e),a}}function n(e){var n,t;n="data:text/javascript;charset=utf-8,"+encodeURIComponent(e),t=document.createElement("script"),t.src=n,t.onload=function(){a.removeChild(t)},a.appendChild(t)}function t(e,n){var t=new c;try{t._compile("module.exports = function () {\n"+e+"\n};",n)}catch(r){return void console.error(r)}t.exports()}function r(e){var n,t={};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o,i,u,a,c,s;return o=eval,"undefined"!=typeof document?(i=!0,a=document.getElementsByTagName("head")[0]):"undefined"!=typeof process&&(u=!0,c=(require.nodeRequire||require)("module")),s="function"==typeof btoa?btoa:"function"==typeof Buffer?function(e){return new Buffer(e,"utf-8").toString("base64")}:function(){},e.Function=function(){var n,t,o,i,u=[];for(n=arguments.length;n--;)u[n]=arguments[n];return i="object"==typeof u[u.length-1]?u.pop():{},i.sourceMap&&(i.sourceMap=r(i.sourceMap),i.sourceMap.mappings=";"+i.sourceMap.mappings),t=u.pop(),o="(function ("+u.join(", ")+") {\n"+t+"\n})",e(o,i)},e}(),function(e){function n(e){var n;if("number"==typeof e)n=t(e);else{if(!Array.isArray(e))throw new Error("vlq.encode accepts an integer or an array of integers");n="",e.forEach(function(e){n+=t(e)})}return n}function t(e){var n,t="";0>e?e=-e<<1|1:e<<=1;do n=31&e,e>>=5,e>0&&(n|=32),t+=u[n];while(e>0);return t}function r(e){var n,t,r=[],o=e.length,u=0,a=0;for(n=0;o>n;n+=1){if(integer=i[e[n]],void 0===integer)throw new Error("Invalid character ("+e[n]+")");t=32&integer,integer&=31,a+=integer<<u,t?u+=5:(shouldNegate=1&a,a>>=1,r.push(shouldNegate?-a:a),a=u=0)}return r}var i,u,a={encode:n,decode:r};i={},u={},"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(e,n){i[e]=n,u[n]=e}),o=function(){return"function"==typeof a?a():a}()}("undefined"!=typeof window?window:this),i=function(n,t,r){return function(o,i,u,a){var c,s,f,p,l,d,h,m,v,w;if(i=i||{},s=i.url||"",p=i.loadImport,d=i.loadModule,c=n(o),f=function(){var n,f,p,d,h,m,v;if(n={template:c.template,partials:c.partials,css:c.css,components:l},c.script){p=c.script.split("\n").map(function(e,n){var t,o,i;return o=0===n?c.scriptStart.line+n:1,i=0===n?c.scriptStart.column:1===n?-c.scriptStart.column:0,t=[0,0,o,i],r.encode(t)}).join(";");try{if(d=new t.Function("component","require","Ractive",c.script,{sourceMap:{version:3,sources:[s],sourcesContent:[o],names:[],mappings:p}}),h={},d(h,i.require,e),m=h.exports,"object"==typeof m)for(v in m)m.hasOwnProperty(v)&&(n[v]=m[v]);f=e.extend(n)}catch(w){return void a(w)}u(f)}else f=e.extend(n),u(f)},m=c.imports.length+(d?c.modules.length:0)){if(v=function(){--m||(w?f():setTimeout(f,0))},c.imports.length){if(!p)throw new Error('Component definition includes imports (e.g. `<link rel="ractive" href="'+c.imports[0].href+'">`) but no loadImport method was passed to rcu.make()');l={},c.imports.forEach(function(e){p(e.name,e.href,s,function(n){l[e.name]=n,v()})})}d&&c.modules.length&&(h={},c.modules.forEach(function(e){d(e,e,s,function(n){h[e]=n,v()})}))}else setTimeout(f,0);w=!0}}(t,r,o),u=function(e,n){var t,r,o;if(!n||"/"===e.charAt(0))return e;for(t=(n||"").split("/"),r=e.split("/"),t.pop();o=r.shift();)".."===o?t.pop():"."!==o&&t.push(o);return t.join("/")},a={init:function(n){e=n},parse:t,make:i,resolve:u,getName:n}}(),t=function(){var t;return t="undefined"!=typeof XMLHttpRequest?function(n){return new e.Promise(function(e,t){var r,o,i;r=new XMLHttpRequest,r.open("GET",n),o=function(){4!==r.readyState||i||(e(r.responseText),i=!0)},r.onload=r.onreadystatechange=o,r.onerror=t,r.send(),4===r.readyState&&o()})}:function(t){return new e.Promise(function(e,r){n.readFile(t,function(n,t){return n?r(n):void e(t.toString())})})}}(),r={},o=function(n,t,r){function o(r,a,c,s){var f,p;return p=n.resolve(r,"."===r[0]?a:c),s&&u[p]||(f=t(p).then(function(t){return new e.Promise(function(e,r){n.make(t,{url:p,loadImport:function(e,n,t,i){o(n,t,c).then(i,r)},require:i},e,r)})}),u[p]=f),u[p]}function i(e){var n,t;if(n=r.hasOwnProperty(e)?r[e]:a.hasOwnProperty(e)?a[e]:null,!n&&"function"==typeof require)try{n=require(e)}catch(o){if("undefined"==typeof process)throw o;n=require(process.cwd()+"/"+e)}if(!n)throw t=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?"."+e:'["'+e+'"]',new Error('Ractive.load() error: Could not find dependency "'+e+'". It should be exposed as Ractive.load.modules'+t+" or window"+t);return n}var u={},a="undefined"!=typeof window?window:{};return o}(c,t,r),i=function(n,t){function r(e){return e.getAttribute("name")||n.getName(e.getAttribute("href"))}function o(e){for(var n=[],t=e.length;t--;)n[t]=e[t];return n}return function(n,i){var u=new e.Promise(function(u,a){var c,s;c=o(document.querySelectorAll('link[rel="ractive"]')),s=c.length,c.forEach(function(o){var c=r(o);t(o.getAttribute("href"),n,i).then(function(n){e.components[c]=n,--s||u()},a)})});return u}}(c,o),u=function(n){return function(t,r,o){var i=new e.Promise(function(e,i){var u,a,c=0,s={};a=function(u){var a=t[u];n(a,r,r,o).then(function(n){s[u]=n,--c||e(s)},i)};for(u in t)t.hasOwnProperty(u)&&(c+=1,a(u))});return i}}(o),a=function(n,t,r,o,i){n.init(e);var u=function a(e){var n=a.baseUrl,i=a.cache!==!1;return e?"object"==typeof e?o(e,n,i):r(e,n,n,i):t(n,i)};return u.baseUrl="",u.modules=i,u}(c,i,o,u,r);try{Object.defineProperty(e,"lib",{get:function(){return console&&console.warn&&console.warn("`Ractive.lib` has been deprecated. Use `Ractive.load.modules` as a module registry instead"),a.modules}})}catch(s){}return e.load=a,a});